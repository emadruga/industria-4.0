# Interactive HTML Generator

This script generates an interactive HTML visualization with a sunburst chart from the hierarchical question data.

## Overview

`generate_index_html.py` reads the markdown hierarchy table and creates a beautiful, interactive single-page application that allows you to explore all Industry 4.0 maturity model questions through a sunburst chart.

## Features

- **Interactive Sunburst Chart**: Visual representation of the hierarchical structure (Block → Pilar → Dimension → Capacity → Question)
- **Click to Explore**: Click on any segment to view question details
- **Beautiful Design**: Modern, responsive UI with gradient backgrounds
- **Question Details**: Full question information displayed in the bottom half
- **Random Start**: Shows a random question on page load to get you started
- **Breadcrumb Navigation**: Shows the full hierarchy path for each question

## Usage

### Basic Usage

```bash
python generate_index_html.py <path_to_hierarchy_table.md>
```

The HTML file will be created as `index.html` in the same directory as the markdown file.

### Specify Output Path

```bash
python generate_index_html.py hierarchy_table.md -o custom_output.html
```

### Complete Workflow Example

```bash
# 1. Convert all DOCX files to JSON
python batch_convert.py -o ../data_output ../docs_by_author/

# 2. Generate interactive HTML
python generate_index_html.py ../data_output/metadata/hierarchy_table.md

# 3. Open in browser
open ../data_output/metadata/index.html
```

## Input Format

The script expects a markdown table with the following columns:

| Block | Pilar | Dimension | Capacity | Question Code | Question Title |
|-------|-------|-----------|----------|---------------|----------------|
| ... | ... | ... | ... | ... | ... |

This is automatically generated by `batch_convert.py` when you run the batch conversion.

## Output

The script generates a single HTML file (`index.html`) that:

- Contains all the question data embedded as JSON
- Uses D3.js (loaded from CDN) for the sunburst visualization
- Is completely self-contained and can be opened directly in any modern browser
- Requires no web server or additional dependencies

## Technical Details

### Dependencies

- **Python 3.6+**: For running the script
- **D3.js v7**: Loaded from CDN in the generated HTML (no local install needed)

### Browser Support

The generated HTML works in all modern browsers:
- Chrome/Edge (recommended)
- Firefox
- Safari

### File Size

The generated HTML file size depends on the number of questions:
- ~58KB for 140 questions
- Scales linearly with question count

## Color Scheme

The sunburst chart uses a color gradient to distinguish hierarchy levels:

- **Block**: Purple (#667eea)
- **Pilar**: Deep Purple (#764ba2)
- **Dimension**: Pink Gradient (#f093fb)
- **Capacity**: Blue Gradient (#4facfe)
- **Question**: Green Gradient (#43e97b)

## Example Output

The generated `index.html` provides:

### Top Half: Interactive Sunburst Chart
- Click on any segment to drill down
- Hover to see tooltip with full hierarchy path
- Responsive sizing that adapts to window size

### Bottom Half: Question Details
- Breadcrumb showing: Block → Pilar → Dimension → Capacity
- Question ID badge
- Question title (large, bold)
- Full hierarchy context

## Troubleshooting

### No questions found
- Make sure the markdown file has the correct table format
- Check that the table has data rows (not just headers)

### HTML file not opening
- Try opening with `file://` protocol or through a web server
- Some browsers may block local file access to CDN resources

### Chart not displaying
- Check browser console for errors
- Ensure internet connection (needed for D3.js CDN)
- Try a different browser

## Future Enhancements

Potential improvements:
- Add search/filter functionality
- Export selected questions
- Print-friendly view
- Dark mode toggle
- Zoom/pan controls for chart
- Integration with maturity level data from JSON files

## License

Part of the Industry 4.0 Maturity Model project.
